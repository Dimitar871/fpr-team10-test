const t=document.getElementById("actionModal"),u=document.getElementById("cancelActionBtn"),e=document.getElementById("actionForm"),s=document.getElementById("modalMessage"),a=document.getElementById("modalTitle");window.showBuyConfirmModal=function(o,d="this item",i){e.setAttribute("action",o),a.textContent="Confirm Purchase",s.textContent=`Are you sure you want to buy "${d}" for ${i} points?`,t.classList.remove("hidden"),t.style.display="flex"};u.addEventListener("click",()=>{t.classList.add("hidden"),t.style.display="none",e.setAttribute("action",""),a.textContent="",s.textContent=""});document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".open-action-modal").forEach(o=>{o.addEventListener("click",function(){const d=this.dataset.action,i=this.dataset.title||"Confirm Action",m=this.dataset.message||"Are you sure you want to proceed?",c=this.dataset.method||"POST";e.setAttribute("action",d),a.textContent=i,s.textContent=m;const l=e.querySelector('input[name="_method"]');if(l&&l.remove(),c!=="POST"){const n=document.createElement("input");n.type="hidden",n.name="_method",n.value=c,e.appendChild(n)}t.classList.remove("hidden"),t.style.display="flex"})})});
